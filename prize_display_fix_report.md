# æ™¯å“ä¸€è¦§ã¨å½“é¸ç­‰ç´šè¡¨ç¤ºã®ä¿®æ­£å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

## å•é¡Œã®å†…å®¹

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ä»¥ä¸‹ã®å•é¡ŒãŒå ±å‘Šã•ã‚Œã¾ã—ãŸ:
1. ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã¨æœ¬ç•ªãƒšãƒ¼ã‚¸ã«å•†å“ä¸€è¦§ï¼ˆæ™¯å“ä¸€è¦§ï¼‰ãŒè¡¨ç¤ºã•ã‚Œãªã„
2. ã‚¹ãƒ”ãƒ³å¾Œã«ä½•ç­‰ãŒå½“ãŸã£ãŸã‹ã®è¡¨ç¤ºãŒãªã„

## åŽŸå› 

### 1. æ™¯å“ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œãªã„åŽŸå› 

`data/settings.json`ã®`prizes`é…åˆ—ãŒç©ºã«ãªã£ã¦ã„ã¾ã—ãŸ:
```json
"prizes": []
```

ãã®ãŸã‚ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®`{% if prizes %}`æ¡ä»¶ãŒ`False`ã¨ãªã‚Šã€æ™¯å“ä¸€è¦§ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚

### 2. å½“é¸ç­‰ç´šãŒè¡¨ç¤ºã•ã‚Œãªã„åŽŸå› 

`prize_logic.py`ã®æ™¯å“åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã«å•é¡ŒãŒã‚ã‚Šã¾ã—ãŸ:

**ä¿®æ­£å‰ã®ãƒ­ã‚¸ãƒƒã‚¯:**
```python
# ç‚¹æ•°ãŒé«˜ã„é †ã«ã‚½ãƒ¼ãƒˆæ¸ˆã¿ã¨ä»®å®šã—ã€è©²å½“ã™ã‚‹æ™¯å“ã‚’æŽ¢ã™
for prize in prizes:
    if score >= prize["min_score"]:
        return {
            "rank": prize["rank"],
            "name": prize["name"]
        }
```

ã“ã®ãƒ­ã‚¸ãƒƒã‚¯ã¯`max_score`ã‚’è€ƒæ…®ã—ã¦ã„ãªã„ãŸã‚ã€ä¾‹ãˆã°57ç‚¹ã®å ´åˆ:
- ç‰¹è³žï¼ˆ500ç‚¹ä»¥ä¸Šï¼‰: 57 >= 500 â†’ False
- 1ç­‰ï¼ˆ300ç‚¹ä»¥ä¸Šï¼‰: 57 >= 300 â†’ False
- ...
- 5ç­‰ï¼ˆ0ç‚¹ä»¥ä¸Šï¼‰: 57 >= 0 â†’ True âœ“

ã—ã‹ã—ã€å®Ÿéš›ã«ã¯57ç‚¹ã¯4ç­‰ï¼ˆ50ï½ž99ç‚¹ï¼‰ã§ã‚ã‚‹ã¹ãã§ã™ã€‚

## ä¿®æ­£å†…å®¹

### 1. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æ™¯å“ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ 

`data/settings.json`ã«6ã¤ã®æ™¯å“ã‚’è¿½åŠ :
- ç‰¹è³ž: ã‚³ãƒ¼ã‚¹æ–™ç†ãƒ»ãƒ‰ãƒªãƒ³ã‚¯é£²ã¿æ”¾é¡Œï¼ˆ500ç‚¹ï½žï¼‰
- 1ç­‰: äººæ°—ãƒ¡ãƒ‹ãƒ¥ãƒ¼3å“ã‚»ãƒƒãƒˆï¼ˆ300ï½ž499ç‚¹ï¼‰
- 2ç­‰: äººæ°—ãƒ¡ãƒ‹ãƒ¥ãƒ¼2å“ã‚»ãƒƒãƒˆï¼ˆ200ï½ž299ç‚¹ï¼‰
- 3ç­‰: ãŠè‚‰ä¸€å“ãƒ»ãƒ‰ãƒªãƒ³ã‚¯1æ¯ï¼ˆ100ï½ž199ç‚¹ï¼‰
- 4ç­‰: ãŠè‚‰ä¸€å“ï¼ˆ50ï½ž99ç‚¹ï¼‰
- 5ç­‰: ãƒ‰ãƒªãƒ³ã‚¯ã¾ãŸã¯ã‚¢ã‚¤ã‚¹ï¼ˆ0ï½ž49ç‚¹ï¼‰

### 2. æ™¯å“åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¿®æ­£

`prize_logic.py`ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¿®æ­£ã—ã¦`max_score`ã‚’è€ƒæ…®:

**ä¿®æ­£å¾Œã®ãƒ­ã‚¸ãƒƒã‚¯:**
```python
# ç‚¹æ•°ç¯„å›²ã«è©²å½“ã™ã‚‹æ™¯å“ã‚’æŽ¢ã™
for prize in prizes:
    min_score = prize["min_score"]
    max_score = prize.get("max_score")
    
    # max_scoreãŒNoneã®å ´åˆã¯ä¸Šé™ãªã—
    if max_score is None:
        if score >= min_score:
            return {
                "rank": prize["rank"],
                "name": prize["name"]
            }
    else:
        # min_score <= score <= max_scoreã®ç¯„å›²å†…ã‹ç¢ºèª
        if min_score <= score <= max_score:
            return {
                "rank": prize["rank"],
                "name": prize["name"]
            }
```

## ä¿®æ­£å¾Œã®å‹•ä½œç¢ºèª

### ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã§ã®ãƒ†ã‚¹ãƒˆçµæžœ

**æ™¯å“ä¸€è¦§ã®è¡¨ç¤º: âœ“**
- ðŸ† ç‰¹è³ž: ã‚³ãƒ¼ã‚¹æ–™ç†ãƒ»ãƒ‰ãƒªãƒ³ã‚¯é£²ã¿æ”¾é¡Œï¼ˆ500ç‚¹ï½žï¼‰
- ðŸ† 1ç­‰: äººæ°—ãƒ¡ãƒ‹ãƒ¥ãƒ¼3å“ã‚»ãƒƒãƒˆï¼ˆ300ç‚¹ï½ž499ç‚¹ï¼‰
- ðŸ† 2ç­‰: äººæ°—ãƒ¡ãƒ‹ãƒ¥ãƒ¼2å“ã‚»ãƒƒãƒˆï¼ˆ200ç‚¹ï½ž299ç‚¹ï¼‰
- ðŸ† 3ç­‰: ãŠè‚‰ä¸€å“ãƒ»ãƒ‰ãƒªãƒ³ã‚¯1æ¯ï¼ˆ100ç‚¹ï½ž199ç‚¹ï¼‰
- ðŸ† 4ç­‰: ãŠè‚‰ä¸€å“ï¼ˆ50ç‚¹ï½ž99ç‚¹ï¼‰
- ðŸ† 5ç­‰: ãƒ‰ãƒªãƒ³ã‚¯ã¾ãŸã¯ã‚¢ã‚¤ã‚¹ï¼ˆ0ç‚¹ï½ž49ç‚¹ï¼‰

**ã‚¹ãƒ”ãƒ³çµæžœ: âœ“**
- åˆè¨ˆ: 55ç‚¹
- è¡¨ç¤º: ðŸŽ‰ ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼4ç­‰ãŒå½“ãŸã‚Šã¾ã—ãŸï¼ï¼
- æ™¯å“: ãŠè‚‰ä¸€å“

**åˆ¤å®šã®æ­£ç¢ºæ€§: âœ“**
- 55ç‚¹ â†’ 4ç­‰ï¼ˆ50ï½ž99ç‚¹ï¼‰ã®ç¯„å›²å†… â†’ æ­£ã—ã„

## ã‚³ãƒŸãƒƒãƒˆæƒ…å ±

- ã‚³ãƒŸãƒƒãƒˆID: 3dc6b75
- ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: "Fix: Add default prizes and fix prize logic to consider max_score"

## çµè«–

æ™¯å“ä¸€è¦§ã¨å½“é¸ç­‰ç´šã®è¡¨ç¤ºæ©Ÿèƒ½ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
